
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Leitor Imersivo</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Crimson+Pro:wght@400;600&family=Manrope:wght@500;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="css/styles.css?v=1.3">

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color, #f5f5f5);
            /* Prevent body scroll so .reader-content controls scrolling + snapping */
            overflow: hidden;
        }
        .reader-content {
            padding-top: 2rem;
        }
        .page.share-card {
            margin: 0 auto 1.5rem auto;
            width: 90%;
            max-width: 700px;
            /* Use rgba with theme RGB var to allow transparency */
            background-color: rgba(var(--card-bg-rgb, 255,255,255), 0.9);
            border-radius: 16px;
            box-shadow: var(--shadow-md, 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06));
            padding: 0;
        }
        
        .share-card-content {
            padding: 1.5rem 1.75rem;
            border: none;
            box-shadow: none;
        }

        .share-card-body {
            color: var(--card-text-color);
            font-family: 'Crimson Pro', serif;
            font-size: 1.15rem;
            line-height: 1.7;
            text-align: left !important;
            overflow-wrap: break-word;
            word-break: break-word;
        }

        /* remove first-word highlight */

        .share-card-footer {
            color: var(--text-secondary, #6b7280);
        }

        /* removed park theme */




    </style>

</head>
<body>

    <header class="app-header">
        <div style="display: flex; align-items: center; gap: 8px;">
            <div class="brand-title">Rufus Reader</div>
            <span class="beta-badge" aria-label="Versão beta">Beta</span>
        </div>
        <a href="index.html" class="home-button" aria-label="Voltar para a biblioteca">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="24" height="24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5z"/></svg>
        </a>
    </header>

    <div class="app-container">
        <div id="rain-overlay" class="rain-overlay" aria-hidden="true"></div>
        <canvas id="space-canvas" class="space-overlay" aria-hidden="true"></canvas>
        <audio id="fullscreen-audio" src="assets/Arnor(chosic.com).mp3" loop></audio>
        <button id="music-toggle-btn" class="fab-right">
            <svg class="play-music-icon" viewBox="0 0 24 24"><path fill="currentColor" d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/></svg>
            <svg class="pause-music-icon" style="display: none;" viewBox="0 0 24 24"><path fill="currentColor" d="M10 16.5v-9l6 4.5-6 4.5zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg>
        </button>
        <button id="exit-fullscreen-btn" class="exit-fullscreen-btn">
            <svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41z"/></svg>
        </button>
        <div id="reader-screen" class="screen active">
            <div class="reader-content" id="reader-content">
                <!-- O conteÃºdo serÃ¡ gerado dinamicamente -->
            </div>
        </div>

        <!-- Bottom Info Panel (polished TikTok style) -->
        <div class="info-panel" id="info-panel">
            <div class="info-text">
                <h2 id="info-title"></h2>
                <p id="info-subtitle"></p>
            </div>
            <div class="info-actions">
                <a id="info-action" href="#" style="display:none">View Details</a>
            </div>
        </div>

        <!-- Slide-up Action Sheet -->
        <div id="action-sheet-overlay" class="action-sheet-overlay" style="display:none;"></div>
        <div id="action-sheet" class="action-sheet">
            <div class="action-sheet-handle" aria-hidden="true"></div>
            <div class="action-sheet-header">Opções</div>
            <button class="action-sheet-close-btn">
                <svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41z"/></svg>
            </button>
            <div class="action-sheet-inner">
            <button class="action-sheet-item" id="action-chapters">Capítulos</button>
            <button class="action-sheet-item" id="action-restart">Recomeçar</button>

            <div class="action-sheet-header">Tema</div>
            <div class="theme-options" role="group" aria-label="Escolher tema de papel">
                <button class="theme-circle" data-theme-choice="default" aria-label="Padrão"></button>
                <button class="theme-circle" data-theme-choice="tema1" aria-label="Tema 1"></button>
                <button class="theme-circle" data-theme-choice="tema2" aria-label="Tema 2"></button>
                
            </div>

            <div class="action-sheet-header">Aparência</div>
            <div class="setting-row">
                <div class="setting-text">
                    <div class="setting-title">Modo escuro</div>
                    <div class="setting-subtitle">Melhor para leitura noturna</div>
                </div>
                <label class="switch">
                    <input type="checkbox" id="menu-dark-toggle" aria-label="Ativar modo escuro">
                    <span class="slider"></span>
                </label>
            </div>

            
            <button class="action-card deep-reading-card" id="action-fullscreen" aria-label="Leitura profunda">
                <span class="card-icon" aria-hidden="true">
                    <svg viewBox="0 0 64 64" width="28" height="28" fill="none">
                        <circle cx="32" cy="16" r="6" fill="currentColor"/>
                        <path d="M20 34c3-6 9-9 12-9s9 3 12 9" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M14 46c4-4 10-6 18-6s14 2 18 6" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M24 40l8 6 8-6" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </span>
                <span class="card-content">
                    <span class="card-title">Leitura profunda</span>
                    <span class="card-subtitle">Entrar em tela cheia e foco</span>
                </span>
            </button>

            <!-- Card do autor (logo abaixo do botÃ£o de leitura) -->
            <div class="author-card" role="group" aria-label="Sobre o autor">
                <div class="author-cover">
                    <img src="assets/authorphoto.png" alt="Machado de Assis" loading="lazy"/>
                </div>
                <div class="author-content">
                    <div class="author-eyebrow">Sobre o autor</div>
                    <div class="author-title">Machado de Assis</div>
                    <div class="author-desc">ClÃ¡ssico da literatura brasileira. Cronista, contista e romancista.</div>
                    <div class="author-actions">
                        <a class="author-link" href="https://pt.wikipedia.org/wiki/Machado_de_Assis" target="_blank" rel="noopener">Ver mais</a>
                    </div>
                </div>
            </div>

            <div class="action-sheet-header">Outros livros do autor</div>
            <div class="carousel" aria-label="Outros livros">
                <a class="carousel-card" href="#" aria-label="Quincas Borba">
                    <img src="assets/book1.svg" alt="Capa de Quincas Borba" loading="lazy" />
                    <div class="carousel-title">Quincas Borba</div>
                </a>
                <a class="carousel-card" href="reader.html?book=assets/Dom_Casmurro-Machado_de_Assis.pdf" aria-label="Dom Casmurro">
                    <img src="assets/book2.svg" alt="Capa de Dom Casmurro" loading="lazy" />
                    <div class="carousel-title">Dom Casmurro</div>
                </a>
                <a class="carousel-card" href="#" aria-label="EsaÃº e JacÃ³">
                    <img src="assets/book3.svg" alt="Capa de EsaÃº e JacÃ³" loading="lazy" />
                    <div class="carousel-title">EsaÃº e JacÃ³</div>
                </a>
            </div>

            

            <!-- Ãšltimo: Produtos -->
            <div class="action-sheet-header">Produtos</div>
            <div class="products-list" aria-label="Produtos do autor">
                <a class="product-card" href="#" aria-label="Marca-pÃ¡ginas">
                    <img src="assets/product1.svg" alt="Marca-pÃ¡ginas" loading="lazy" />
                    <div class="product-title">Marcaâ€‘pÃ¡ginas</div>
                </a>
                <a class="product-card" href="#" aria-label="PÃ´ster">
                    <img src="assets/product2.svg" alt="PÃ´ster" loading="lazy" />
                    <div class="product-title">PÃ´ster</div>
                </a>
                <a class="product-card" href="#" aria-label="Camiseta">
                    <img src="assets/product3.svg" alt="Camiseta" loading="lazy" />
                    <div class="product-title">Camiseta</div>
                </a>
                <a class="product-card" href="#" aria-label="Caderno">
                    <img src="assets/product4.svg" alt="Caderno" loading="lazy" />
                    <div class="product-title">Caderno</div>
                </a>
            </div>
            </div>
        </div>

        <!-- Chapters Slide-up Sheet -->
        <div id="chapter-sheet" class="action-sheet" aria-hidden="true">
            <div class="action-sheet-handle" aria-hidden="true"></div>
            <div class="action-sheet-header">Capítulos</div>
            <button class="action-sheet-close-btn chapter-sheet-close">
                <svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41z"/></svg>
            </button>
            <div class="action-sheet-inner">
                <div id="chapter-list" class="chapter-list" role="list"></div>
            </div>
        </div>
            </div>



            
        </div>
        <!-- Ambient selection modal -->
        <div id="ambient-modal-overlay" class="ambient-overlay" aria-hidden="true"></div>
        <div id="ambient-modal" class="ambient-modal" role="dialog" aria-modal="true" aria-labelledby="ambient-title" aria-hidden="true">
            <div class="ambient-modal-inner">
                <div class="ambient-header">
                    <div class="ambient-title" id="ambient-title">Ambiente imersivo</div>
                    <button class="ambient-close" id="ambient-close" aria-label="Fechar">&times;</button>
                </div>
                <div class="ambient-options" role="group" aria-label="Selecionar ambiente">
                    <label class="ambient-option">
                        <input type="radio" name="ambient" value="neutral" checked>
                        <span class="ambient-chip">Neutro</span>
                    </label>
                    <label class="ambient-option">
                        <input type="radio" name="ambient" value="rain">
                        <span class="ambient-chip">Chuva</span>
                    </label>
                    <label class="ambient-option">
                        <input type="radio" name="ambient" value="space">
                        <span class="ambient-chip">EspaÃ§o</span>
                    </label>
                </div>
                <div class="ambient-footer">
                    <button id="ambient-confirm" class="ambient-confirm">Confirmar</button>
                </div>
            </div>
        </div>
    </div>

    <script src="js/app.js"></script>

</body>
</html>


